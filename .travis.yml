language: cpp

sudo: required
dist: trusty

compiler:
   - gcc
   - clang

addons:
   apt:
      sources:
         - ubuntu-toolchain-r-test

      packages:
         - g++-5
         - gcc-5
         - libboost-filesystem1.55-dev

before_install:
   - wget https://cmake.org/files/v3.4/cmake-3.4.0-Linux-x86_64.tar.gz -O cmake.tar.gz
   - tar -xf cmake.tar.gz
   - CMAKE_EXEC="$(pwd)/cmake-3.4.0-Linux-x86_64/bin/cmake"

install:
   - if [[ "$CXX" == "g++"     ]]; then export CXX=g++-5;       export CC=gcc-5;     fi

script:
   - mkdir build
   - cd build
   - $CMAKE_EXEC ..
   - make -j2

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/a1f79a324c696ec10d8a
    on_success: always  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: false     # default: false
